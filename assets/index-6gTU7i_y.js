import{r as t,j as e}from"./react-CywZ_8YR.js";import{R as L}from"./react-dom-Bg_DQbB-.js";import{P as m}from"./prop-types-L5NmFoeK.js";import{l as R}from"./lodash-C2nYvBw5.js";import{m as v,A as S}from"./framer-motion-BK0ZBAWD.js";import{i as B,g as A,a as I,o as H}from"./@firebase-L_xG_mlJ.js";import"./firebase-D84MbEuT.js";import{N as x,u as N,R as M,a as h,B as O}from"./react-router-BCISYrXQ.js";import"./cookie-CY119PWS.js";import"./scheduler-BNqrtbQi.js";import"./motion-dom-DnIdl6pN.js";import"./motion-utils-BDWe_Wef.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function c(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=c(s);fetch(s.href,n)}})();const T="/last-minute/assets/ket-Bp7EiJsM.png",w=i=>i*parseFloat(getComputedStyle(document.documentElement).fontSize),y=t.createContext(),C=({children:i})=>{const[a,c]=t.useState(window.innerWidth<w(48)),[r,s]=t.useState({height:window.innerHeight,width:window.innerWidth}),[n,d]=t.useState(0),f=w(52),p=t.useCallback(R.debounce((u,o)=>{s({height:u,width:o}),console.log("debounced")},200),[]);return t.useEffect(()=>{const u=()=>{const o=window.innerWidth,l=window.innerHeight;p(o,l),o<f?c(!0):c(!1)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[p,f]),e.jsx(y.Provider,{value:{isSmallScreen:a,dimensions:r,navBarHeight:n,setNavBarHeight:d},children:i})};C.propTypes={children:m.node.isRequired};const j=({filled:i=!1,onClick:a=()=>{},children:c})=>{const{isSmallScreen:r}=t.useContext(y),[s,n]=t.useState(!1);return e.jsx("div",{className:`px-2.5 w-full py-1 truncate  transition-all ${i?"bg-primary hover:bg-filled-button-hover active:bg-filled-button-active text-secondary-text":"bg-transparent hover:bg-interactive-hover active:bg-interactive-active  text-primary"}  border-2 border-primary hover:border-filled-button-hover active:border-filled-button-active text-center box-border rounded-md font-semibold text-lg cursor-pointer `,onClick:a,onPointerDown:()=>n(!0),onPointerCancel:()=>n(!1),onPointerUp:()=>n(!1),onPointerLeave:()=>n(!1),children:e.jsx("div",{className:`${r?"transition-all":"transition-transform"} ${s?"scale-[97%] opacity-75":""}`,children:c})})};j.propTypes={filled:m.bool,onClick:m.func,children:m.node.isRequired};const q=()=>e.jsxs(v.div,{className:"flex flex-col flex-1 items-center w-screen justify-center",initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},exit:{opacity:0},children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:T,width:100,alt:"Ket"}),e.jsx("h1",{children:"Last Minute"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("p",{children:"Your courses. At your demand."}),e.jsx(j,{onClick:null,children:"I am a button"})]})]}),g=({className:i="",children:a,onClick:c=()=>{}})=>{const{isSmallScreen:r}=t.useContext(y),[s,n]=t.useState(!1);return e.jsx("div",{className:`${i} px-3 py-1 w-full ${r?"transition-all":""} rounded-md hover:bg-interactive-hover
        active:bg-interactive-active active:ring-background-secondary active:ring truncate text-primary-text text-center font-medium text-lg cursor-pointer `,onClick:c,onPointerDown:()=>n(!0),onPointerCancel:()=>n(!1),onPointerUp:()=>n(!1),onPointerLeave:()=>n(!1),children:e.jsx("div",{className:`transition-transform w-min ${s?"scale-[97%]":""}`,children:a})})};g.propTypes={className:m.string,onClick:m.func,children:m.node.isRequired};const $=i=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:512,height:512,...i},t.createElement("path",{d:"M15.4,9.88,10.81,5.29a1,1,0,0,0-1.41,0,1,1,0,0,0,0,1.42L14,11.29a1,1,0,0,1,0,1.42L9.4,17.29a1,1,0,0,0,1.41,1.42l4.59-4.59A3,3,0,0,0,15.4,9.88Z"})),D=i=>t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:512,height:512,...i},t.createElement("path",{d:"M19,2H5C2.243,2,0,4.243,0,7v10c0,2.757,2.243,5,5,5h14c2.757,0,5-2.243,5-5V7c0-2.757-2.243-5-5-5ZM2,17V7c0-1.654,1.346-3,3-3H13V20H5c-1.654,0-3-1.346-3-3Zm20,0c0,1.654-1.346,3-3,3h-4V4h4c1.654,0,3,1.346,3,3v10Zm-2-6c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Zm0,4c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Zm0-8c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Z"})),z={apiKey:"AIzaSyBOS586Glw04Yc02cT15X9h7q0xMCNkJGM",authDomain:"project-last-minute.firebaseapp.com",projectId:"project-last-minute",storageBucket:"project-last-minute.firebasestorage.app",messagingSenderId:"465198803740",appId:"1:465198803740:web:53c0d2690e0cc343d3e8d9",measurementId:"G-2L8JDEKDWT"},P=B(z);A(P);const b=t.createContext(),k=({children:i})=>{const[a,c]=t.useState(null);return t.useEffect(()=>{const r=I(P),s=H(r,n=>{c(n)});return()=>s()},[]),e.jsx(b.Provider,{value:{user:a},children:i})};k.propTypes={children:m.node.isRequired};const E=({scrollContainerRef:i={current:null}})=>{const{user:a}=t.useContext(b),[c,r]=t.useState(!1),[s,n]=t.useState(!1),{isSmallScreen:d,setNavBarHeight:f}=t.useContext(y),p=t.useRef(null);t.useEffect(()=>{d&&r(!1)},[d]),t.useEffect(()=>{p.current&&f(p.current.offsetHeight)},[f]),t.useEffect(()=>{const o=()=>{n(i.current.scrollTop>0)},l=i.current;return l&&l.addEventListener("scroll",o),()=>{l&&l.removeEventListener("scroll",o)}},[i]);const u=a?[{name:"Dashboard",path:"/dashboard"},{name:"Book",path:"/booking"},{name:"History",path:"/history"},{name:"Settings",path:"/settings"},{name:"Landing Page",path:"/"}]:[{name:"Home",path:"/"},{name:"Contact",path:"/contact"},{name:"FAQ",path:"/faq"}];return e.jsxs("div",{ref:p,className:`sticky top-0 flex justify-between w-full py-4 px-6
        border-b border-transparent transition-colors  duration-300 ${s?"!border-background-secondary/30":""}`,children:[e.jsx("div",{className:"flex items-center text-2xl justify-start max-md:flex-1",children:e.jsx(x,{to:"/",className:"font-semibold text-nowrap",children:"Last Minute"})}),d?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-min aspect-square flex !p-1.5 items-center justify-center",onClick:()=>r(!c),children:e.jsx(D,{width:28,height:28})}),e.jsx(S,{children:c&&e.jsxs(e.Fragment,{children:[e.jsx(v.div,{className:"absolute top-0 left-0 w-screen h-screen bg-background-secondary/25",initial:{opacity:0},animate:{opacity:1,backdropFilter:"blur(3px)"},exit:{opacity:0},onClick:()=>r(!1)}),e.jsxs(v.div,{className:"w-72 max-w-4/5 fixed top-0 text-end flex flex-col px-6 py-4 right-0 h-screen bg-background",initial:{x:"100%",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0)"},animate:{x:0,boxShadow:"3px 0px 10px 2px rgba(0, 0, 0, 0.1)"},exit:{x:"100%",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0)"},transition:{type:"spring",stiffness:200,damping:20,mass:.5},children:[e.jsx(g,{className:"w-min aspect-square flex !p-1 items-center mb-2 justify-center ml-auto",onClick:()=>r(!1),children:e.jsx($,{width:32,height:32})}),e.jsx(x,{to:"/auth",className:"flex",children:e.jsx(j,{filled:!0,onClick:()=>r(!1),children:"Sign in / Register"})}),e.jsx("p",{className:"text-lg font-semibold mr-3 mt-6 mb-2",children:"Navigation"}),u.map(o=>e.jsx(x,{to:o.path,className:({isActive:l})=>l?" bg-background-secondary/50 rounded-md pointer-events-none":void 0,children:e.jsx(g,{onClick:()=>r(!1),className:"py-2 flex justify-end",children:o.name})},o.name))]})]})})]}):e.jsxs("div",{className:"text-lg font-medium items-center inline-flex top-0 py-0 gap-4",children:[e.jsx("div",{className:"inline-flex gap-2",children:u.map(o=>e.jsx(x,{to:o.path,className:({isActive:l})=>l?"underline underline-offset-4 underline-primary pointer-events-none":void 0,children:e.jsx(g,{children:o.name})},o.name))}),e.jsxs("div",{className:"flex gap-2 flex-row min-w-50",children:[e.jsx(x,{to:{pathname:"/auth"},state:{action:"register"},className:({isActive:o})=>`flex-1 flex transition-opacity ${o?"pointer-events-none opacity-50":""}`,children:e.jsx(j,{children:"Register"})}),e.jsx(x,{to:{pathname:"/auth"},state:{action:"signin"},className:({isActive:o})=>`flex-1 flex transition-opacity ${o?"pointer-events-none opacity-50":""}`,children:e.jsx(j,{filled:!0,children:"Sign in"})})]})]})]})};E.propTypes={scrollContainerRef:m.object.isRequired};const F=()=>{var r;const i=N(),[a,c]=t.useState(((r=i.state)==null?void 0:r.action)||"signin");return e.jsx(v.div,{className:"flex flex-col flex-1 items-center justify-center",initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},exit:{opacity:0},children:"auth"})},Z=()=>e.jsxs(v.div,{className:"flex flex-col flex-1 items-center justify-center",initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},exit:{opacity:0},children:[e.jsx("h1",{children:"404 Page not found"}),e.jsx("p",{children:"The page you are looking for does not exist."})]}),U=()=>e.jsx("div",{children:"dashboard"}),W=()=>e.jsx("div",{children:"booking"}),K=()=>e.jsx("div",{children:"session"}),V=()=>e.jsx("div",{children:"settings"});function G(){const{user:i}=t.useContext(b),a=N(),c=t.useRef(null);return e.jsx("div",{className:"w-screen h-screen overflow-hidden flex-col flex text-primary-text",children:e.jsxs(C,{children:[e.jsx(E,{scrollContainerRef:c}),e.jsx("div",{ref:c,className:"overflow-y-auto h-screen flex",children:e.jsx(S,{mode:"wait",children:e.jsxs(M,{location:a,children:[e.jsx(h,{path:"/",element:i?e.jsx(U,{}):e.jsx(q,{})}),i?e.jsxs(e.Fragment,{children:[e.jsx(h,{path:"/booking",element:e.jsx(W,{})}),e.jsx(h,{path:"/session",element:e.jsx(K,{})}),e.jsx(h,{path:"/settings",element:e.jsx(V,{})})]}):e.jsx(h,{path:"/auth",element:e.jsx(F,{})}),e.jsx(h,{path:"*",element:e.jsx(Z,{})})]},a.pathname)})})]})})}L.createRoot(document.getElementById("root")).render(e.jsx(k,{children:e.jsx(O,{basename:"/last-minute/",children:e.jsx(G,{})})}));

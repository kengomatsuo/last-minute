import{r as n,j as e}from"./react-CywZ_8YR.js";import{R as W}from"./react-dom-V7lzCc_E.js";import{P as i}from"./prop-types-D0pSn4ZB.js";import{i as K,g as Q,a as G,b as J,o as O,s as F,c as Y,d as _}from"./@firebase-BAYCo1ju.js";import"./firebase-BjKrMMne.js";import{u as I,N as b,a as P,L as X,R as ee,b as f,B as te}from"./react-router-D_bWvcVQ.js";import{A as C,m as y}from"./framer-motion-BK0ZBAWD.js";import"./cookie-BX9QSSmL.js";import"./scheduler-BNqrtbQi.js";import"./tslib-BGVaTf34.js";import"./idb-BXWtuYvb.js";import"./motion-dom-DnIdl6pN.js";import"./motion-utils-BDWe_Wef.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();const ne="/last-minute/assets/ket-Bp7EiJsM.png",g=({filled:t=!1,onClick:r=()=>{},disabled:a=!1,className:c,children:s,type:o="button"})=>{const[l,u]=n.useState(!1),m=async h=>{a||l||(u(!0),await r(h),u(!1))};return e.jsx("button",{formNoValidate:!0,type:o,onClick:m,className:`${l?"pointer-events-none opacity-50":""} ${c} px-2.5 py-1 truncate transition-all ${t?"bg-primary text-secondary-text":"bg-transparent text-primary"} ${a||l?"opacity-50 !cursor-not-allowed !hover:border-primary":t?"hover:bg-filled-button-hover hover:border-filled-button-hover active:bg-filled-button-active  active:ring-primary active:ring focus:ring-primary/75":"hover:bg-interactive-hover hover:border-filled-button-hover active:bg-interactive-active  active:ring-primary active:ring focus:ring-primary"} border-2 min-w-fit border-primary text-center box-border rounded-md font-semibold text-lg cursor-pointer
       focus:outline-none focus:ring-2`,children:e.jsx("div",{className:`${a?"pointer-events-none":""} transition-transform active:scale-[97%] active:opacity-75 flex gap-2 justify-center`,children:s})})};g.propTypes={filled:i.bool,onClick:i.func,disabled:i.bool,className:i.string,children:i.node.isRequired,type:i.string};const A=({className:t,header:r,onClick:a,children:c})=>e.jsxs("div",{className:`${t} ${a?"transition-all cursor-pointer hover:scale-101 hover:caret-card-outline-hover active:ring active:ring-primary active:caret-card-outline-active active:scale-100":""} bg-card-background box-border border-card-outline border-2 backdrop-blur-sm flex p-4 flex-col rounded-xl`,onClick:a,children:[e.jsx("div",{className:"text-lg font-semibold pb-2",children:r}),e.jsx("div",{children:c})]});A.propTypes={className:i.string,header:i.string,onClick:i.func,children:i.node.isRequired};const k=()=>e.jsx("footer",{children:"This is a footer. Edit me in src/components/CustomFooter.jsx"}),N=({className:t="",children:r,onClick:a=()=>{}})=>{const[c,s]=n.useState(!1),[o,l]=n.useState(!1),u=async()=>{l(!0),await a(),l(!1)};return e.jsx("div",{className:`${o?"pointer-events-none opacity-50":""} ${t} px-3 py-1 w-full  rounded-md hover:bg-interactive-hover
        active:bg-interactive-active active:ring-background-secondary active:ring truncate text-primary-text text-center font-medium text-lg cursor-pointer`,onClick:u,onPointerDown:()=>s(!0),onPointerCancel:()=>s(!1),onPointerUp:()=>s(!1),onPointerLeave:()=>s(!1),children:e.jsx("div",{className:`transition-transform w-min ${c?"scale-[97%]":""}`,children:r})})};N.propTypes={className:i.string,onClick:i.func,children:i.node.isRequired};const M=t=>t*parseFloat(getComputedStyle(document.documentElement).fontSize),$=(t,r,a=null)=>{const c=n.useRef(null),s=n.useRef(t);n.useEffect(()=>{s.current=t},[t]);const o=n.useCallback((...l)=>{c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{s.current(...l)},r)},[r]);return n.useEffect(()=>{a!==null&&s.current()},a??[]),o},q=52,S={isSmallScreen:window.innerWidth<M(q),dimensions:{width:window.innerWidth,height:window.innerHeight},navBarHeight:0,setNavBarHeight:()=>{},isOnline:navigator.onLine},j=n.createContext(S),D={type:"spring",stiffness:170,damping:26,mass:1,restDelta:.001,velocity:.5},z=({children:t})=>{const[r,a]=n.useState(S.isSmallScreen),[c,s]=n.useState(S.dimensions),o=$(({width:p,height:d})=>s({width:p,height:d}),300),[l,u]=n.useState(S.navBarHeight),[m,h]=n.useState(S.isOnline),v=M(q);return n.useEffect(()=>{const p=()=>{const B=window.innerWidth,U=window.innerHeight;o({width:B,height:U}),a(B<v)},d=()=>h(!0),x=()=>h(!1);return window.addEventListener("resize",p),window.addEventListener("online",d),window.addEventListener("offline",x),()=>{window.removeEventListener("resize",p),window.removeEventListener("online",d),window.removeEventListener("offline",x)}},[v,o]),e.jsx(j.Provider,{value:{isSmallScreen:r,dimensions:c,navBarHeight:l,setNavBarHeight:u,isOnline:m},children:t})};z.propTypes={children:i.node.isRequired};const se=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Outline",viewBox:"0 0 24 24",width:512,height:512,...t},n.createElement("path",{d:"M15.4,9.88,10.81,5.29a1,1,0,0,0-1.41,0,1,1,0,0,0,0,1.42L14,11.29a1,1,0,0,1,0,1.42L9.4,17.29a1,1,0,0,0,1.41,1.42l4.59-4.59A3,3,0,0,0,15.4,9.88Z"})),ie=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:512,height:512,...t},n.createElement("path",{d:"M19,2H5C2.243,2,0,4.243,0,7v10c0,2.757,2.243,5,5,5h14c2.757,0,5-2.243,5-5V7c0-2.757-2.243-5-5-5ZM2,17V7c0-1.654,1.346-3,3-3H13V20H5c-1.654,0-3-1.346-3-3Zm20,0c0,1.654-1.346,3-3,3h-4V4h4c1.654,0,3,1.346,3,3v10Zm-2-6c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Zm0,4c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Zm0-8c0,.553-.448,1-1,1h-1c-.552,0-1-.447-1-1s.448-1,1-1h1c.552,0,1,.447,1,1Z"})),re={apiKey:"AIzaSyBOS586Glw04Yc02cT15X9h7q0xMCNkJGM",authDomain:"project-last-minute.firebaseapp.com",projectId:"project-last-minute",storageBucket:"project-last-minute.firebasestorage.app",messagingSenderId:"465198803740",appId:"1:465198803740:web:53c0d2690e0cc343d3e8d9",measurementId:"G-2L8JDEKDWT"},R=K(re),w=Q(R);G(R);J(R);const ae={user:void 0,signUp:async()=>Promise.resolve(),signIn:async()=>Promise.resolve(),signOut:async()=>Promise.resolve()},E=n.createContext(ae),V=({children:t})=>{const[r,a]=n.useState(void 0);n.useEffect(()=>{const u=O(w,m=>{a(m)});return()=>u()},[]);const c=async({email:u,password:m})=>{try{await _(w,u,m),await l(),console.log("Signed up successfully!")}catch(h){console.error("Error signing up:",h)}},s=async({email:u,password:m})=>{try{await Y(w,u,m),await l()}catch(h){console.error("Error signing in:",h)}},o=async()=>{try{await F(w),await l()}catch(u){console.error("Error signing out:",u)}},l=()=>new Promise(u=>{const m=O(w,h=>{a(h),m(),u(h)})});return e.jsx(E.Provider,{value:{user:r,signUp:c,signIn:s,signOut:o},children:t})};V.propTypes={children:i.node.isRequired};const Z=({scrollContainerRef:t={current:null}})=>{const{user:r}=n.use(E),[a,c]=n.useState(!1),[s,o]=n.useState(!1),{isSmallScreen:l,setNavBarHeight:u}=n.use(j),m=n.useRef(null),h=I(),v=async()=>{await F(w).then(()=>{console.log("Signed out successfully!"),h("/auth")}).catch(d=>{console.error("Error signing out:",d)})};n.useEffect(()=>{l&&c(!1)},[l]),n.useEffect(()=>{m.current&&u(m.current.offsetHeight)},[u]),n.useEffect(()=>{const d=()=>{o(t.current.scrollTop>0)},x=t.current;return x&&x.addEventListener("scroll",d),()=>{x&&x.removeEventListener("scroll",d)}},[t]);const p=r?[{name:"Dashboard",path:"/"},{name:"Book",path:"/booking"},{name:"History",path:"/history"},{name:"Settings",path:"/settings"}]:[{name:"Home",path:"/"},{name:"Contact",path:"/contact"},{name:"FAQ",path:"/faq"}];return e.jsxs("nav",{ref:m,className:`fixed z-10 top-0 flex justify-between w-full py-4 px-6
        border-b border-transparent transition-colors bg-background  duration-300 ${s?"!border-background-secondary/30":""}`,children:[e.jsx("div",{className:"flex items-center text-2xl justify-start max-md:flex-1",children:e.jsx(b,{to:"/",className:"font-semibold text-nowrap",children:"Last Minute"})}),l?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-min aspect-square flex !p-1.5 items-center justify-center",onClick:()=>c(!a),children:e.jsx(ie,{width:28,height:28})}),e.jsx(C,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(y.div,{className:"absolute z-20 top-0 left-0 w-screen h-screen bg-background-secondary/30",initial:{opacity:0},animate:{opacity:1,backdropFilter:"blur(4px)"},exit:{opacity:0,transition:{delay:.3,duration:.3}},onClick:()=>c(!1)}),e.jsxs(y.div,{className:"w-72 max-w-4/5 fixed z-30 top-0 text-end flex flex-col px-6 py-4 right-0 h-screen bg-background",initial:{x:"100%",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0)"},animate:{x:0,boxShadow:"3px 0px 10px 2px rgba(0, 0, 0, 0.1)"},exit:{x:"100%",boxShadow:"0px 0px 0px 0px rgba(0, 0, 0, 0.1)"},transition:D,children:[e.jsx(N,{className:"w-min aspect-square flex !p-1 items-center mb-2 justify-center ml-auto",onClick:()=>c(!1),children:e.jsx(se,{width:32,height:32})}),e.jsx(b,{to:"/auth",className:"flex",children:e.jsx(g,{filled:!0,className:"flex-1",onClick:()=>{c(!1),v()},children:r?"Sign out":"Sign in / Register"})}),e.jsx("p",{className:"text-lg font-semibold mr-3 mt-6 mb-2",children:"Navigation"}),p.map(d=>e.jsx(b,{to:d.path,className:({isActive:x})=>x?" bg-background-secondary/50 rounded-md pointer-events-none":void 0,children:e.jsx(N,{onClick:()=>c(!1),className:"py-2 flex justify-end",children:d.name})},d.name))]})]})})]}):e.jsxs("div",{className:"text-lg font-medium items-center justify-end inline-flex top-0 py-0 gap-4",children:[e.jsx("div",{className:"inline-flex gap-2",children:p.map(d=>e.jsx(b,{to:d.path,className:({isActive:x})=>x?"underline underline-offset-4 underline-primary pointer-events-none":void 0,children:e.jsx(N,{children:d.name})},d.name))}),r?e.jsx("div",{className:"flex gap-2 flex-row",children:e.jsx(g,{onClick:()=>v(),children:"Sign out"})}):e.jsxs("div",{className:"flex gap-2 flex-row",children:[e.jsx(b,{to:{pathname:"/auth"},state:{action:"register"},className:({isActive:d})=>`flex-1 flex transition-opacity ${d?"pointer-events-none opacity-50":""}`,children:e.jsx(g,{children:"Register"})}),e.jsx(b,{to:{pathname:"/auth"},state:{action:"signin"},className:({isActive:d})=>`flex-1 flex transition-opacity ${d?"pointer-events-none opacity-50":""}`,children:e.jsx(g,{filled:!0,children:"Sign in"})})]})]})]})};Z.propTypes={scrollContainerRef:i.object.isRequired};const oe=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"this is a FAQ. Edit me in src/components/FAQ.jsx"}),e.jsx(k,{})]}),L=({onChange:t=()=>{},className:r,validateFunction:a,multiline:c=!1,rows:s=3,...o})=>{const[l,u]=n.useState(""),h=$(async d=>{try{await a(d),u("")}catch(x){u(x.message)}},500),v=d=>{a&&h(d.target.value),t(d)},p="mt-0.5 flex bg-white border-2 border-primary/50 transition-all rounded p-2 focus:outline-none focus:ring-2 focus:ring-primary font-medium";return e.jsxs(y.label,{className:`${r} w-full flex flex-col text-sm font-semibold`,htmlFor:o.name,layout:!0,children:[o.name,o.required&&"*",c?e.jsx("textarea",{...o,rows:s,onChange:v,className:`${p} resize-none min-h-[70px]`}):e.jsx("input",{...o,onChange:v,className:p}),e.jsx(C,{children:l&&e.jsx(y.div,{initial:{height:0,opacity:0,marginTop:0},animate:{height:"auto",opacity:1,marginTop:4},exit:{height:0,opacity:0,marginTop:0},transition:D,children:e.jsx(y.p,{className:"text-red-500",initial:{y:-10},animate:{y:0},exit:{y:-10},children:l})})})]})};L.propTypes={name:i.string.isRequired,type:i.oneOf(["text","password","email","number","tel","url","search","date","datetime-local","month","week","time","color"]),onChange:i.func.isRequired,placeholder:i.string,value:i.string,required:i.bool,className:i.string,disabled:i.bool,enterKeyHint:i.oneOf(["none","go","next","search","send"]),maxLength:i.number,minLength:i.number,pattern:i.string,autoComplete:i.oneOf(["on","off","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","email","username","new-password","current-password","organization-title","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-extension","impp","url","photo"]),autoFocus:i.bool,validateFunction:i.func,errorMessage:i.string,multiline:i.bool,rows:i.number};const H=()=>{const{navBarHeight:t}=n.use(j);return e.jsxs("div",{className:"flex flex-col flex-1 items-center w-screen justify-center",style:{paddingTop:t},children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("img",{src:ne,width:100,alt:"Ket"}),e.jsx("h1",{children:"Last Minute"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("p",{children:"Your courses. At your demand."}),e.jsx(g,{onClick:null,children:"I am a button"})]}),e.jsx(oe,{}),e.jsx(k,{})]})},ce=()=>{var u;const t=I(),r=P(),{signIn:a,signUp:c}=n.use(E),[s,o]=n.useState(((u=r.state)==null?void 0:u.action)||"signin"),l=async()=>{await a({email:"admin@admin.com",password:"admin123"}).then(()=>{t("/")})};return e.jsxs("div",{className:"flex flex-col flex-1 items-center justify-center",children:["auth",e.jsx(g,{onClick:()=>l(),children:"Login"})]})},le=()=>e.jsxs("div",{className:"flex flex-col flex-1 gap-4 items-center justify-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"404 Page not found"}),e.jsx("p",{children:"The page you are looking for does not exist."})]}),e.jsx(X,{to:"/",children:e.jsx(g,{filled:!0,children:"Back to Home"})})]}),de=()=>{const{navBarHeight:t}=n.use(j);return e.jsx("div",{style:{paddingTop:t},children:"dashboard"})},ue=t=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 24 24",width:512,height:512,...t},n.createElement("path",{d:"M17,10.039c-3.859,0-7,3.14-7,7,0,3.838,3.141,6.961,7,6.961s7-3.14,7-7c0-3.838-3.141-6.961-7-6.961Zm0,11.961c-2.757,0-5-2.226-5-4.961,0-2.757,2.243-5,5-5s5,2.226,5,4.961c0,2.757-2.243,5-5,5Zm1.707-4.707c.391,.391,.391,1.023,0,1.414-.195,.195-.451,.293-.707,.293s-.512-.098-.707-.293l-1-1c-.188-.188-.293-.442-.293-.707v-2c0-.552,.447-1,1-1s1,.448,1,1v1.586l.707,.707Zm5.293-10.293v2c0,.552-.447,1-1,1s-1-.448-1-1v-2c0-1.654-1.346-3-3-3H5c-1.654,0-3,1.346-3,3v1H11c.552,0,1,.448,1,1s-.448,1-1,1H2v9c0,1.654,1.346,3,3,3h4c.552,0,1,.448,1,1s-.448,1-1,1H5c-2.757,0-5-2.243-5-5V7C0,4.243,2.243,2,5,2h1V1c0-.552,.448-1,1-1s1,.448,1,1v1h8V1c0-.552,.447-1,1-1s1,.448,1,1v1h1c2.757,0,5,2.243,5,5Z"})),me=()=>{const{isSmallScreen:t}=n.use(j),r=n.useRef(),a=c=>{c.preventDefault();const s=new FormData(r.current);Object.fromEntries(s.entries())};return e.jsx("div",{className:"flex flex-col w-full items-center justify-center",children:e.jsx(A,{header:"Find a Tutor",className:`${t?"w-11/12":"w-xl"} min-w-1/2 max-w-full`,children:e.jsx("div",{className:"gap-2",children:e.jsxs("form",{onSubmit:a,className:"flex flex-1 flex-col gap-2",tabIndex:"0",ref:r,children:[e.jsx(L,{name:"Subject / Material",type:"password",placeholder:"Biology, Algebra, etc.",validateFunction:c=>{if(c)throw new Error("Subject is error")},required:!0}),e.jsx(L,{multiline:!0,name:"Details",placeholder:"I need help with this particular subject...",rows:5}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(g,{className:t?"":"flex-1",type:"submit",children:t?e.jsx(ue,{width:24,height:24,className:"fill-primary"}):"Schedule"}),e.jsx(g,{className:"flex-1",type:"submit",filled:!0,children:"Book Now"})]})]})})})})},he=()=>e.jsx("div",{children:"session"}),xe=()=>{const{navBarHeight:t}=n.useContext(j);return e.jsx("div",{style:{paddingTop:t},children:"settings"})},pe=()=>{const{isOnline:t}=n.use(j);return e.jsx("div",{children:t?"Loading...":"You are offline"})},T=()=>e.jsxs(e.Fragment,{children:[e.jsx("div",{children:"Contact"}),e.jsx(k,{})]}),fe=()=>{const{navBarHeight:t}=n.useContext(j);return e.jsx("div",{style:{paddingTop:t},children:"History"})};function ge(){const{user:t}=n.use(E),r=P(),a=n.useRef(null);return e.jsx(C,{mode:"wait",children:t===void 0?e.jsx(y.div,{className:"w-screen h-screen flex justify-center items-center text-primary-text",animate:{opacity:1,transition:{duration:1}},exit:{opacity:0},children:e.jsx(pe,{})},"loading"):e.jsx(y.div,{className:"w-screen h-screen overflow-hidden flex-col flex text-primary-text",initial:{opacity:0},animate:{opacity:1,transition:{duration:1}},exit:{opacity:0},children:e.jsxs(z,{children:[e.jsx(Z,{scrollContainerRef:a}),e.jsx(C,{mode:"wait",children:e.jsx(y.div,{variants:{initial:{opacity:0},animate:{opacity:1,transition:{duration:.5}},exit:{opacity:0,transition:{duration:.3}}},ref:a,initial:"initial",animate:"animate",exit:"exit",className:"w-full overflow-y-auto h-screen flex",children:e.jsxs(ee,{location:r,children:[e.jsx(f,{path:"/",element:t?e.jsx(de,{}):e.jsx(H,{})}),t?e.jsxs(e.Fragment,{children:[e.jsx(f,{path:"/booking",element:e.jsx(me,{})}),e.jsx(f,{path:"/session",element:e.jsx(he,{})}),e.jsx(f,{path:"/history",element:e.jsx(fe,{})}),e.jsx(f,{path:"/settings",element:e.jsx(xe,{})}),e.jsx(f,{path:"/landing",element:e.jsx(H,{})}),e.jsx(f,{path:"/contact",element:e.jsx(T,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(f,{path:"/auth",element:e.jsx(ce,{})}),e.jsx(f,{path:"/contact",element:e.jsx(T,{})})]}),e.jsx(f,{path:"*",element:e.jsx(le,{})})]},r.pathname)},r.pathname+(t?"-auth":"-guest"))})]})},"loaded")})}W.createRoot(document.getElementById("root")).render(e.jsx(V,{children:e.jsx(te,{basename:"/last-minute/",children:e.jsx(ge,{})})}));

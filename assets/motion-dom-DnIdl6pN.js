import{a as B,p as z,n as H,M as X,S as _,v as Y}from"./motion-utils-BDWe_Wef.js";const j=B(()=>window.ScrollTimeline!==void 0);class J{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(j()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ye extends J{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ge(t,e){return t?t[e]||t.default||t:void 0}const F=2e4;function Ae(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<F;)e+=n,s=t.next(e);return e>=F?1/0:e}function Ee(t){return typeof t=="function"}function Pe(t,e){t.timeline=e,t.onfinish=null}const N=t=>Array.isArray(t)&&typeof t[0]=="number",Q={linearEasing:void 0};function Z(t,e){const n=B(t);return()=>{var s;return(s=Q[e])!==null&&s!==void 0?s:n()}}const L=Z(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ee=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)s+=t(z(0,r-1,o))+", ";return`linear(${s.substring(0,s.length-2)})`};function te(t){return!!(typeof t=="function"&&L()||!t||typeof t=="string"&&(t in C||L())||N(t)||Array.isArray(t)&&t.every(te))}const g=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,C={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g([0,.65,.55,1]),circOut:g([.55,0,1,.45]),backIn:g([.31,.01,.66,-.59]),backOut:g([.33,1.53,.69,.99])};function ne(t,e){if(t)return typeof t=="function"&&L()?ee(t,e):N(t)?g(t):Array.isArray(t)?t.map(n=>ne(n,e)||C.easeOut):C[t]}const E=["read","resolveKeyframes","update","preRender","render","postRender"],V={value:null};function se(t,e){let n=new Set,s=new Set,r=!1,o=!1;const l=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},i=0;function d(u){l.has(u)&&(f.schedule(u),t()),i++,u(a)}const f={schedule:(u,v=!1,c=!1)=>{const b=c&&r?n:s;return v&&l.add(u),b.has(u)||b.add(u),u},cancel:u=>{s.delete(u),l.delete(u)},process:u=>{if(a=u,r){o=!0;return}r=!0,[n,s]=[s,n],n.forEach(d),e&&V.value&&V.value.frameloop[e].push(i),i=0,n.clear(),r=!1,o&&(o=!1,f.process(u))}};return f}const re=40;function q(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=E.reduce((p,m)=>(p[m]=se(o,e?m:void 0),p),{}),{read:a,resolveKeyframes:i,update:d,preRender:f,render:u,postRender:v}=l,c=()=>{const p=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(p-r.timestamp,re),1),r.timestamp=p,r.isProcessing=!0,a.process(r),i.process(r),d.process(r),f.process(r),u.process(r),v.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(c))},y=()=>{n=!0,s=!0,r.isProcessing||t(c)};return{schedule:E.reduce((p,m)=>{const K=l[m];return p[m]=(U,W=!1,$=!1)=>(n||y(),K.schedule(U,W,$)),p},{}),cancel:p=>{for(let m=0;m<E.length;m++)l[E[m]].cancel(p)},state:r,steps:l}}const{schedule:ie,cancel:Te,state:x,steps:be}=q(typeof requestAnimationFrame<"u"?requestAnimationFrame:H,!0),{schedule:we}=q(queueMicrotask,!1);let P;function ae(){P=void 0}const T={now:()=>(P===void 0&&T.set(x.isProcessing||X.useManualTiming?x.timestamp:performance.now()),P),set:t=>{P=t,queueMicrotask(ae)}},h={x:!1,y:!1};function D(){return h.x||h.y}function Le(t){return t==="x"||t==="y"?h[t]?null:(h[t]=!0,()=>{h[t]=!1}):h.x||h.y?null:(h.x=h.y=!0,()=>{h.x=h.y=!1})}function oe(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function G(t,e){const n=oe(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function S(t){return!(t.pointerType==="touch"||D())}function Ce(t,e,n={}){const[s,r,o]=G(t,n),l=a=>{if(!S(a))return;const{target:i}=a,d=e(i,a);if(typeof d!="function"||!i)return;const f=u=>{S(u)&&(d(u),i.removeEventListener("pointerleave",f))};i.addEventListener("pointerleave",f,r)};return s.forEach(a=>{a.addEventListener("pointerenter",l,r)}),o}function M(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const O=(t,e)=>e?t===e?!0:O(t,e.parentElement):!1,ue=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function le(t){return ce.has(t.tagName)||t.tabIndex!==-1}const A=new WeakSet;function k(t){return e=>{e.key==="Enter"&&t(e)}}function w(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const fe=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=k(()=>{if(A.has(n))return;w(n,"down");const r=k(()=>{w(n,"up")}),o=()=>w(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function I(t){return ue(t)&&!D()}function Fe(t,e,n={}){const[s,r,o]=G(t,n),l=a=>{const i=a.currentTarget;if(!i||!I(a)||A.has(i))return;A.add(i),M(a,"set");const d=e(i,a),f=(c,y)=>{i.removeEventListener("pointerup",u),i.removeEventListener("pointercancel",v),M(c,"release"),!(!I(c)||!A.has(i))&&(A.delete(i),typeof d=="function"&&d(c,{success:y}))},u=c=>{(c.isTrusted?de(c,i instanceof Element?i.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?f(c,!1):f(c,!(i instanceof Element)||O(i,c.target))},v=c=>{f(c,!1)};i.addEventListener("pointerup",u,r),i.addEventListener("pointercancel",v,r),i.addEventListener("lostpointercapture",v,r)};return s.forEach(a=>{a=n.useGlobalTarget?window:a;let i=!1;a instanceof HTMLElement&&(i=!0,!le(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",l,r),i&&a.addEventListener("focus",d=>fe(d,r),r)}),o}function de(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const R=30,he=t=>!isNaN(parseFloat(t));class pe{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const o=T.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=T.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=he(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _);const s=this.events[e].add(n);return e==="change"?()=>{s(),ie.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=T.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>R)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,R);return Y(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ve(t,e){return new pe(t,e)}export{ye as G,Ve as a,F as b,Ae as c,N as d,x as e,ie as f,ee as g,Te as h,Ee as i,ne as j,Pe as k,te as l,we as m,ge as n,ue as o,Le as p,be as q,Ce as r,L as s,T as t,Fe as u};
